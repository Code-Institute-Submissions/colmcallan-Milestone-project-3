{"filter":false,"title":"store.html","tooltip":"/templates/store.html","undoManager":{"mark":9,"position":9,"stack":[[{"start":{"row":81,"column":10},"end":{"row":82,"column":0},"action":"insert","lines":["",""],"id":105},{"start":{"row":82,"column":0},"end":{"row":82,"column":1},"action":"insert","lines":["<"]},{"start":{"row":82,"column":1},"end":{"row":82,"column":2},"action":"insert","lines":["s"]},{"start":{"row":82,"column":2},"end":{"row":82,"column":3},"action":"insert","lines":["c"]}],[{"start":{"row":82,"column":1},"end":{"row":82,"column":3},"action":"remove","lines":["sc"],"id":106},{"start":{"row":82,"column":1},"end":{"row":82,"column":47},"action":"insert","lines":["script type=\"text/javascript\" src=\"\"></script>"]}],[{"start":{"row":82,"column":36},"end":{"row":82,"column":37},"action":"remove","lines":["\""],"id":107},{"start":{"row":82,"column":35},"end":{"row":82,"column":36},"action":"remove","lines":["\""]},{"start":{"row":82,"column":34},"end":{"row":82,"column":35},"action":"remove","lines":["="]},{"start":{"row":82,"column":33},"end":{"row":82,"column":34},"action":"remove","lines":["c"]},{"start":{"row":82,"column":32},"end":{"row":82,"column":33},"action":"remove","lines":["r"]},{"start":{"row":82,"column":31},"end":{"row":82,"column":32},"action":"remove","lines":["s"]},{"start":{"row":82,"column":30},"end":{"row":82,"column":31},"action":"remove","lines":[" "]},{"start":{"row":82,"column":29},"end":{"row":82,"column":30},"action":"remove","lines":["\""]},{"start":{"row":82,"column":28},"end":{"row":82,"column":29},"action":"remove","lines":["t"]},{"start":{"row":82,"column":27},"end":{"row":82,"column":28},"action":"remove","lines":["p"]},{"start":{"row":82,"column":26},"end":{"row":82,"column":27},"action":"remove","lines":["i"]},{"start":{"row":82,"column":25},"end":{"row":82,"column":26},"action":"remove","lines":["r"]},{"start":{"row":82,"column":24},"end":{"row":82,"column":25},"action":"remove","lines":["c"]},{"start":{"row":82,"column":23},"end":{"row":82,"column":24},"action":"remove","lines":["s"]},{"start":{"row":82,"column":22},"end":{"row":82,"column":23},"action":"remove","lines":["a"]},{"start":{"row":82,"column":21},"end":{"row":82,"column":22},"action":"remove","lines":["v"]},{"start":{"row":82,"column":20},"end":{"row":82,"column":21},"action":"remove","lines":["a"]},{"start":{"row":82,"column":19},"end":{"row":82,"column":20},"action":"remove","lines":["j"]},{"start":{"row":82,"column":18},"end":{"row":82,"column":19},"action":"remove","lines":["/"]},{"start":{"row":82,"column":17},"end":{"row":82,"column":18},"action":"remove","lines":["t"]},{"start":{"row":82,"column":16},"end":{"row":82,"column":17},"action":"remove","lines":["x"]},{"start":{"row":82,"column":15},"end":{"row":82,"column":16},"action":"remove","lines":["e"]},{"start":{"row":82,"column":14},"end":{"row":82,"column":15},"action":"remove","lines":["t"]},{"start":{"row":82,"column":13},"end":{"row":82,"column":14},"action":"remove","lines":["\""]},{"start":{"row":82,"column":12},"end":{"row":82,"column":13},"action":"remove","lines":["="]},{"start":{"row":82,"column":11},"end":{"row":82,"column":12},"action":"remove","lines":["e"]},{"start":{"row":82,"column":10},"end":{"row":82,"column":11},"action":"remove","lines":["p"]},{"start":{"row":82,"column":9},"end":{"row":82,"column":10},"action":"remove","lines":["y"]},{"start":{"row":82,"column":8},"end":{"row":82,"column":9},"action":"remove","lines":["t"]}],[{"start":{"row":82,"column":7},"end":{"row":82,"column":8},"action":"remove","lines":[" "],"id":108}],[{"start":{"row":82,"column":8},"end":{"row":84,"column":0},"action":"insert","lines":["","    ",""],"id":109}],[{"start":{"row":83,"column":4},"end":{"row":185,"column":1},"action":"insert","lines":["if (document.readyState == 'loading') {","    document.addEventListener('DOMContentLoaded', ready)","} else {","    ready()","}","","function ready() {","    var removeCartItemButtons = document.getElementsByClassName('btn-danger')","    for (var i = 0; i < removeCartItemButtons.length; i++) {","        var button = removeCartItemButtons[i]","        button.addEventListener('click', removeCartItem)","    }","","    var quantityInputs = document.getElementsByClassName('cart-quantity-input')","    for (var i = 0; i < quantityInputs.length; i++) {","        var input = quantityInputs[i]","        input.addEventListener('change', quantityChanged)","    }","","    var addToCartButtons = document.getElementsByClassName('shop-item-button')","    for (var i = 0; i < addToCartButtons.length; i++) {","        var button = addToCartButtons[i]","        button.addEventListener('click', addToCartClicked)","    }","","    document.getElementsByClassName('btn-purchase')[0].addEventListener('click', purchaseClicked)","}","","function purchaseClicked() {","    alert('Thank you for your purchase')","    var cartItems = document.getElementsByClassName('cart-items')[0]","    while (cartItems.hasChildNodes()) {","        cartItems.removeChild(cartItems.firstChild)","    }","    updateCartTotal()","}","","function removeCartItem(event) {","    var buttonClicked = event.target","    buttonClicked.parentElement.parentElement.remove()","    updateCartTotal()","}","","function quantityChanged(event) {","    var input = event.target","    if (isNaN(input.value) || input.value <= 0) {","        input.value = 1","    }","    updateCartTotal()","}","","function addToCartClicked(event) {","    var button = event.target","    var shopItem = button.parentElement.parentElement","    var title = shopItem.getElementsByClassName('shop-item-title')[0].innerText","    var price = shopItem.getElementsByClassName('shop-item-price')[0].innerText","    var imageSrc = shopItem.getElementsByClassName('shop-item-image')[0].src","    addItemToCart(title, price, imageSrc)","    updateCartTotal()","}","","function addItemToCart(title, price, imageSrc) {","    var cartRow = document.createElement('div')","    cartRow.classList.add('cart-row')","    var cartItems = document.getElementsByClassName('cart-items')[0]","    var cartItemNames = cartItems.getElementsByClassName('cart-item-title')","    for (var i = 0; i < cartItemNames.length; i++) {","        if (cartItemNames[i].innerText == title) {","            alert('This item is already added to the cart')","            return","        }","    }","    var cartRowContents = `","        <div class=\"cart-item cart-column\">","            <img class=\"cart-item-image\" src=\"${imageSrc}\" width=\"100\" height=\"100\">","            <span class=\"cart-item-title\">${title}</span>","        </div>","        <span class=\"cart-price cart-column\">${price}</span>","        <div class=\"cart-quantity cart-column\">","            <input class=\"cart-quantity-input\" type=\"number\" value=\"1\">","            <button class=\"btn btn-danger\" type=\"button\">REMOVE</button>","        </div>`","    cartRow.innerHTML = cartRowContents","    cartItems.append(cartRow)","    cartRow.getElementsByClassName('btn-danger')[0].addEventListener('click', removeCartItem)","    cartRow.getElementsByClassName('cart-quantity-input')[0].addEventListener('change', quantityChanged)","}","","function updateCartTotal() {","    var cartItemContainer = document.getElementsByClassName('cart-items')[0]","    var cartRows = cartItemContainer.getElementsByClassName('cart-row')","    var total = 0","    for (var i = 0; i < cartRows.length; i++) {","        var cartRow = cartRows[i]","        var priceElement = cartRow.getElementsByClassName('cart-price')[0]","        var quantityElement = cartRow.getElementsByClassName('cart-quantity-input')[0]","        var price = parseFloat(priceElement.innerText.replace('$', ''))","        var quantity = quantityElement.value","        total = total + (price * quantity)","    }","    total = Math.round(total * 100) / 100","    document.getElementsByClassName('cart-total-price')[0].innerText = '$' + total","}"],"id":110}],[{"start":{"row":187,"column":85},"end":{"row":187,"column":86},"action":"remove","lines":["}"],"id":111},{"start":{"row":187,"column":84},"end":{"row":187,"column":85},"action":"remove","lines":["%"]},{"start":{"row":187,"column":83},"end":{"row":187,"column":84},"action":"remove","lines":[" "]},{"start":{"row":187,"column":82},"end":{"row":187,"column":83},"action":"remove","lines":["k"]},{"start":{"row":187,"column":81},"end":{"row":187,"column":82},"action":"remove","lines":["c"]},{"start":{"row":187,"column":80},"end":{"row":187,"column":81},"action":"remove","lines":["o"]},{"start":{"row":187,"column":79},"end":{"row":187,"column":80},"action":"remove","lines":["l"]},{"start":{"row":187,"column":78},"end":{"row":187,"column":79},"action":"remove","lines":["b"]},{"start":{"row":187,"column":77},"end":{"row":187,"column":78},"action":"remove","lines":["d"]},{"start":{"row":187,"column":76},"end":{"row":187,"column":77},"action":"remove","lines":["n"]},{"start":{"row":187,"column":75},"end":{"row":187,"column":76},"action":"remove","lines":["e"]},{"start":{"row":187,"column":74},"end":{"row":187,"column":75},"action":"remove","lines":[" "]},{"start":{"row":187,"column":73},"end":{"row":187,"column":74},"action":"remove","lines":["%"]},{"start":{"row":187,"column":72},"end":{"row":187,"column":73},"action":"remove","lines":["{"]}],[{"start":{"row":0,"column":94},"end":{"row":0,"column":95},"action":"remove","lines":[" "],"id":112},{"start":{"row":0,"column":93},"end":{"row":0,"column":94},"action":"remove","lines":["}"]},{"start":{"row":0,"column":92},"end":{"row":0,"column":93},"action":"remove","lines":["%"]},{"start":{"row":0,"column":91},"end":{"row":0,"column":92},"action":"remove","lines":[" "]},{"start":{"row":0,"column":90},"end":{"row":0,"column":91},"action":"remove","lines":["k"]},{"start":{"row":0,"column":89},"end":{"row":0,"column":90},"action":"remove","lines":["c"]},{"start":{"row":0,"column":88},"end":{"row":0,"column":89},"action":"remove","lines":["o"]},{"start":{"row":0,"column":87},"end":{"row":0,"column":88},"action":"remove","lines":["l"]},{"start":{"row":0,"column":86},"end":{"row":0,"column":87},"action":"remove","lines":["b"]},{"start":{"row":0,"column":85},"end":{"row":0,"column":86},"action":"remove","lines":["d"]},{"start":{"row":0,"column":84},"end":{"row":0,"column":85},"action":"remove","lines":["n"]},{"start":{"row":0,"column":83},"end":{"row":0,"column":84},"action":"remove","lines":["e"]},{"start":{"row":0,"column":82},"end":{"row":0,"column":83},"action":"remove","lines":[" "]},{"start":{"row":0,"column":81},"end":{"row":0,"column":82},"action":"remove","lines":["%"]},{"start":{"row":0,"column":80},"end":{"row":0,"column":81},"action":"remove","lines":["{"]},{"start":{"row":0,"column":79},"end":{"row":0,"column":80},"action":"remove","lines":[" "]}],[{"start":{"row":187,"column":72},"end":{"row":187,"column":73},"action":"insert","lines":[" "],"id":113}],[{"start":{"row":187,"column":73},"end":{"row":187,"column":87},"action":"insert","lines":["{% endblock %}"],"id":114}]]},"ace":{"folds":[],"scrolltop":2425.6328125,"scrollleft":0,"selection":{"start":{"row":187,"column":87},"end":{"row":187,"column":87},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":167,"state":"js-no_regex","mode":"ace/mode/html"}},"timestamp":1565033286890,"hash":"3376f9a7c5b35047352a399090ca2079077877bd"}